<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Consolidação - Discipulado The Chosen</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
          /* Primitive Color Tokens */
          --color-white: rgba(255, 255, 255, 1);
          --color-black: rgba(0, 0, 0, 1);
          --color-gray-50: #f8fafc;
          --color-gray-100: #f1f5f9;
          --color-gray-200: #e2e8f0;
          --color-gray-300: #cbd5e1;
          --color-gray-500: #64748b;
          --color-slate-700: #334155;
          --color-slate-900: #0f172a;
          
          --color-primary-500: #0ea5e9;
          --color-primary-600: #0284c7;
          --color-success-500: #22c55e;
          --color-warning-500: #f59e0b;

          /* RGB versions for opacity control */
          --color-primary-rgb: 14, 165, 233;
          --color-warning-rgb: 245, 158, 11;

          /* Semantic Color Tokens */
          --color-background: var(--color-gray-50);
          --color-surface: var(--color-white);
          --color-text: var(--color-slate-700);
          --color-text-heading: var(--color-slate-900);
          --color-text-secondary: var(--color-gray-500);
          --color-primary: var(--color-primary-500);
          --color-primary-hover: var(--color-primary-600);
          --color-success: var(--color-success-500);
          --color-warning: var(--color-warning-500);
          --color-info: var(--color-gray-500);
          --color-border: var(--color-gray-200);
          
          /* Typography */
          --font-family-base: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
          --font-size-xs: 12px;
          --font-size-sm: 13px;
          --font-size-base: 14px;
          --font-weight-medium: 500;
          --font-weight-semibold: 600;

          /* Spacing */
          --space-4: 4px;
          --space-8: 8px;
          --space-10: 10px;
          --space-12: 12px;
          --space-16: 16px;
          --space-20: 20px;
          --space-24: 24px;
          --space-32: 32px;

          /* Border Radius */
          --radius-md: 8px;
          --radius-lg: 12px;
          --radius-full: 9999px;

          /* Shadows */
          --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
          --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
          --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }

        /* Base styles */
        body {
            font-family: var(--font-family-base);
            background-color: var(--color-background);
            background-image: linear-gradient(to bottom right, #f8fafc, #eff6ff);
            min-height: 100vh;
            padding: var(--space-32);
            color: var(--color-text);
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .dashboard-header {
            background: transparent;
            border: none;
            padding: 0;
            margin-bottom: var(--space-32);
            text-align: center;
        }

        .dashboard-header h1 {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--color-text-heading);
            letter-spacing: -0.025em;
        }
        
        .dashboard-description {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-12);
            text-align: center;
            color: var(--color-text-secondary);
            background-color: rgba(255,255,255,0.5);
            border: 1px solid var(--color-border);
            padding: var(--space-12) var(--space-16);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-32);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            font-size: var(--font-size-base);
            backdrop-filter: blur(8px);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: var(--space-20);
            margin-bottom: var(--space-32);
        }

        .stat-card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-20);
            border: 1px solid var(--color-border);
            text-align: center;
            box-shadow: var(--shadow-sm);
        }

        .stat-number {
            font-size: 2.25rem;
            font-weight: var(--font-weight-semibold);
            color: var(--color-text-heading);
            margin-bottom: var(--space-4);
        }

        .stat-label {
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: var(--font-weight-medium);
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: var(--space-20);
        }

        .cell-card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-24);
            border: 1px solid var(--color-border);
            transition: all 0.25s ease;
            border-left: 5px solid var(--color-info);
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-md);
        }

        .cell-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .cell-card.in-progress {
             border-left-color: var(--color-primary);
        }
        
        .cell-card.completed {
            border-left-color: var(--color-success);
        }

        .cell-card.no-consolidandos {
            border-left-color: var(--color-gray-300);
            opacity: 0.8;
            background: var(--color-gray-50);
        }

        .cell-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-16);
            flex-wrap: wrap;
            gap: var(--space-10);
        }

        .cell-name {
            font-size: 1.25rem;
            font-weight: var(--font-weight-semibold);
            color: var(--color-text-heading);
        }

        .responsible {
            background: var(--color-gray-100);
            color: var(--color-text);
            padding: var(--space-4) var(--space-12);
            border-radius: var(--radius-full);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-medium);
        }
        
        .card-content {
            flex-grow: 1;
        }

        .students-list {
            margin-bottom: var(--space-16);
            padding-bottom: var(--space-12);
            border-bottom: 1px solid var(--color-border);
        }

        .student {
            display: inline-block;
            background: rgba(var(--color-primary-rgb), 0.1);
            color: var(--color-primary-hover);
            padding: var(--space-4) var(--space-12);
            margin: 0 var(--space-4) var(--space-4) 0;
            border-radius: var(--radius-full);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
        }

        .progress-container {
            margin: var(--space-16) 0;
        }

        .progress-label {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-8);
            display: flex;
            justify-content: space-between;
        }

        .progress-bar-background {
            background-color: var(--color-gray-100);
            border-radius: var(--radius-full);
            height: 10px;
            overflow: hidden;
        }

        .progress-bar-fill {
            background-color: var(--color-primary);
            background-image: linear-gradient(90deg, var(--color-primary), var(--color-primary-hover));
            height: 100%;
            border-radius: var(--radius-full);
            transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .progress-bar-fill.completed {
            background-image: linear-gradient(90deg, var(--color-success), #16a34a);
        }

        .observations {
            margin-top: auto;
            padding: var(--space-12);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            background-color: var(--color-gray-50);
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }
        
        .observations.scheduled {
            background-color: rgba(var(--color-warning-rgb), 0.1);
            color: #b45309;
        }
        
        .observations.no-info {
           color: var(--color-text-secondary);
           font-style: italic;
           background-color: transparent;
           padding-left: 0;
        }

        .empty-state {
            text-align: center;
            color: var(--color-text-secondary);
            font-style: italic;
            padding: var(--space-24);
            background: transparent;
            border-radius: var(--radius-md);
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .icon {
            width: 16px;
            height: 16px;
            stroke-width: 2;
            flex-shrink: 0;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            body {
                padding: var(--space-16);
            }
            .cards-grid {
                grid-template-columns: 1fr;
            }
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="dashboard-header">
            <h1>📊 Painel de Consolidação - Discipulado The Chosen</h1>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="total-cells">9</div>
                <div class="stat-label">Total de Células</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="active-consolidandos">0</div>
                <div class="stat-label">Consolidandos Ativos</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completed-cells">0</div>
                <div class="stat-label">Células Concluídas</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="average-progress">0%</div>
                <div class="stat-label">Progresso Médio</div>
            </div>
        </div>

        <p class="dashboard-description">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
              </svg>
              Painel de acompanhamento semanal das reuniões de consolidação das células do discipulado. (Atualizado em 29/09/2025 as 16:10)
        </p>

        <div class="cards-grid" id="cards-grid">
            <!-- Os cards serão gerados pelo JavaScript -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // =================================================================================
            // ATUALIZE OS DADOS AQUI TODA SEMANA
            // =================================================================================
            const dashboardData = {
                totalChapters: 7,
                cells: [
                    {
                        name: "🌱 Aviv",
                        responsible: "Lucas Cruz",
                        students: [],
                        chaptersCompleted: 0,
                        observation: "sem consolidados ativos"
                    },
                    {
                        name: "🕊️ Emanuel",
                        responsible: "Lucas Cristhy",
                        students: ['Ana Carolina', 'Vinicius'],
                        chaptersCompleted: 3,
                        observation: ""
                    },
                    {
                        name: "🌟 Eliaquim",
                        responsible: "Helder",
                        students: ['Wesley Canabarra de Souza', 'Layla Noemi Martins'],
                        chaptersCompleted: 0,
                        observation: ""
                    },
                    {
                        name: "🔄 Change",
                        responsible: "Stefano",
                        students: ['Paulo Neto', 'Mateus Prete', 'Giovanna Esther'],
                        chaptersCompleted: 3,
                        observation: ""
                    },
                    {
                        name: "⭐ Elionai",
                        responsible: "Guilherme Becker",
                        students: ['Juan Parreira', 'Isadora Perazza'],
                        chaptersCompleted: 3,
                        observation: ""
                    },
                    {
                        name: "♾️ Infinity",
                        responsible: "Ana Gabriela",
                        students: ['Lucas Quixaba'],
                        chaptersCompleted: 2,
                        observation: ""
                    },
                    {
                        name: "📜 Legacy",
                        responsible: "Ana Karol",
                        students: ['Arthur Hideki'],
                        chaptersCompleted: 1,
                        observation: ""
                    },
                    {
                        name: "⛰️ El Shaddai",
                        responsible: "Paulo",
                        students: ['Anna Flávia Rodrigues'],
                        chaptersCompleted: 0,
                        observation: "Sem resposta do encontrista"
                    },
                    {
                        name: "👑 Herdeiros",
                        responsible: "Mozart",
                        students: ['Emanuelle Lidian'],
                        chaptersCompleted: 3,
                        observation: ""
                    }
                ]
            };
            // =================================================================================
            // FIM DA ÁREA DE ATUALIZAÇÃO
            // =================================================================================

            function sortCells(cells) {
                cells.sort((a, b) => {
                    const aHasStudents = a.students.length > 0;
                    const bHasStudents = b.students.length > 0;

                    if (aHasStudents && !bHasStudents) return -1;
                    if (!aHasStudents && bHasStudents) return 1;

                    if (a.chaptersCompleted !== b.chaptersCompleted) {
                        return b.chaptersCompleted - a.chaptersCompleted;
                    }
                    
                    return a.name.localeCompare(b.name);
                });
            }

            function renderDashboard() {
                sortCells(dashboardData.cells);
                renderCards(dashboardData);
                calculateAndUpdateStats(dashboardData);
                animateCards();
            }

            function calculateAndUpdateStats(data) {
                let activeConsolidandos = 0;
                let completedCells = 0;
                let totalProgress = 0;
                let cellsWithConsolidandos = 0;

                data.cells.forEach(cell => {
                    if (cell.students.length > 0) {
                        activeConsolidandos += cell.students.length;
                        cellsWithConsolidandos++;
                        totalProgress += (cell.chaptersCompleted / data.totalChapters);
                        if (cell.chaptersCompleted === data.totalChapters) {
                            completedCells++;
                        }
                    }
                });

                const averageProgress = cellsWithConsolidandos > 0 ?
                    Math.round((totalProgress / cellsWithConsolidandos) * 100) : 0;

                document.getElementById('total-cells').textContent = data.cells.length;
                document.getElementById('active-consolidandos').textContent = activeConsolidandos;
                document.getElementById('completed-cells').textContent = completedCells;
                document.getElementById('average-progress').textContent = `${averageProgress}%`;
            }

            function renderCards(data) {
                const cardsGrid = document.getElementById('cards-grid');
                cardsGrid.innerHTML = ''; // Limpa os cards existentes

                data.cells.forEach(cell => {
                    const progressPercentage = (cell.chaptersCompleted / data.totalChapters) * 100;
                    
                    let cardClass = 'cell-card';
                    if (cell.students.length === 0) {
                        cardClass += ' no-consolidandos';
                    } else if (progressPercentage === 100) {
                        cardClass += ' completed';
                    } else if (progressPercentage > 0) {
                        cardClass += ' in-progress';
                    }

                    const studentsHtml = cell.students.length > 0 ?
                        `<div class="students-list">
                            ${cell.students.map(student => `<span class="student">${student}</span>`).join('')}
                        </div>` : '';
                    
                    const contentHtml = cell.students.length > 0 ?
                        `<div class="card-content">
                            ${studentsHtml}
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>Progresso</span>
                                    <span>${cell.chaptersCompleted}/${data.totalChapters} capítulos</span>
                                </div>
                                <div class="progress-bar-background">
                                    <div class="progress-bar-fill ${progressPercentage === 100 ? 'completed' : ''}" style="width: ${progressPercentage}%"></div>
                                </div>
                            </div>
                            ${generateObservationHtml(cell.observation)}
                        </div>` :
                        `<div class="empty-state">${cell.observation || 'Sem consolidados ativos'}</div>`;

                    const cardElement = document.createElement('div');
                    cardElement.className = cardClass;
                    cardElement.innerHTML = `
                        <div class="cell-header">
                            <div class="cell-name">${cell.name}</div>
                            <div class="responsible">${cell.responsible}</div>
                        </div>
                        ${contentHtml}
                    `;
                    cardsGrid.appendChild(cardElement);
                });
            }
            
            function generateObservationHtml(observationText) {
                if (!observationText || observationText.trim() === '') {
                    return `<div class="observations no-info">Nenhuma observação.</div>`;
                }

                const isScheduled = observationText.toLowerCase().includes('próxima reunião');
                let obsClass = 'observations';
                let iconHtml = '';

                if (isScheduled) {
                    obsClass += ' scheduled';
                    iconHtml = `<svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;
                }

                return `<div class="${obsClass}">${iconHtml}<span>${observationText}</span></div>`;
            }

            function animateCards() {
                const cards = document.querySelectorAll('.cell-card, .stat-card');
                cards.forEach((card, index) => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.5s ease-out';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 50 + index * 80);
                });
            }

            // Inicia o painel
            renderDashboard();
        });
    </script>
</body>
</html>

